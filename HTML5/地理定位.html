<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<p id="demo">点击这个按钮，获得您的坐标：</p>
	<button onclick="getLocation()">试一下</button>
	<script>
		var x=document.getElementById("demo");
		//检测是否支持地理定位
		function getLocation()
		  {
		  if (navigator.geolocation)
		    {
		    navigator.geolocation.getCurrentPosition(showPosition,showError);//getCurrentPosition()方法第二个参数用于处理错误。它规定当获取用户位置失败时运行的函数
		    }
		  else{x.innerHTML="Geolocation is not supported by this browser.";}
		  }
		function showPosition(position)
		  {//获得并显示经度和纬度
		  x.innerHTML="Latitude: " + position.coords.latitude + 
		  "<br />Longitude: " + position.coords.longitude;	
		  }

		 function showError(error)
		  {
			  switch(error.code) 
			    {
			    case error.PERMISSION_DENIED://用户不允许地理定位
			      x.innerHTML="User denied the request for Geolocation."
			      break;
			    case error.POSITION_UNAVAILABLE://无法获取当前位置
			      x.innerHTML="Location information is unavailable."
			      break;
			    case error.TIMEOUT://操作超时
			      x.innerHTML="The request to get user location timed out."
			      break;
			    case error.UNKNOWN_ERROR:
			      x.innerHTML="An unknown error occurred."
			      break;
			    }
		  }
	</script>
</body>
</html>